<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Downloads interface — downloads • rgbif</title><!-- rOpenSci favicons --><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Downloads interface — downloads"><meta name="description" content="GBIF provides two ways to get occurrence data: through the
/occurrence/search route (see occ_search()),
or via the /occurrence/download route (many functions, see below).
occ_search() is more appropriate for smaller data, while
occ_download*() functions are more appropriate for larger data requests."><meta property="og:description" content="GBIF provides two ways to get occurrence data: through the
/occurrence/search route (see occ_search()),
or via the /occurrence/download route (many functions, see below).
occ_search() is more appropriate for smaller data, while
occ_download*() functions are more appropriate for larger data requests."><meta property="og:image" content="https://docs.ropensci.org/rgbif/logo.png"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.css"><script src="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.umd.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">rgbif</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">3.8.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="../articles/rgbif.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/creating_maps_from_occurrences.html">Creating maps from occurrences</a></li>
    <li><a class="dropdown-item" href="../articles/downloading_a_long_species_list.html">Downloading A Long Species List</a></li>
    <li><a class="dropdown-item" href="../articles/effectively_using_occ_search.html">Effectively using occ_search</a></li>
    <li><a class="dropdown-item" href="../articles/gbif_citations.html">Citing GBIF Mediated Data</a></li>
    <li><a class="dropdown-item" href="../articles/gbif_credentials.html">Set Up Your GBIF Username and Password</a></li>
    <li><a class="dropdown-item" href="../articles/gbif_sql_downloads.html">GBIF SQL Downloads</a></li>
    <li><a class="dropdown-item" href="../articles/getting_dataset_info.html">Getting Dataset Metadata From GBIF</a></li>
    <li><a class="dropdown-item" href="../articles/getting_occurrence_data.html">Getting Occurrence Data From GBIF</a></li>
    <li><a class="dropdown-item" href="../articles/multiple_values.html">Multiple Values</a></li>
    <li><a class="dropdown-item" href="../articles/occ_counts.html">Getting Occurrence Counts From GBIF</a></li>
    <li><a class="dropdown-item" href="../articles/taxonomic_names.html">Working With Taxonomic Names</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ropensci/rgbif/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Downloads interface</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/rgbif/blob/master/R/downloads.R" class="external-link"><code>R/downloads.R</code></a></small>
      <div class="d-none name"><code>downloads.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>GBIF provides two ways to get occurrence data: through the
<code>/occurrence/search</code> route (see <code><a href="occ_search.html">occ_search()</a></code>),
or via the <code>/occurrence/download</code> route (many functions, see below).
<code><a href="occ_search.html">occ_search()</a></code> is more appropriate for smaller data, while
<code>occ_download*()</code> functions are more appropriate for larger data requests.</p>
    </div>


    <div class="section level2">
    <h2 id="settings">Settings<a class="anchor" aria-label="anchor" href="#settings"></a></h2>


<p>You'll use <code><a href="occ_download.html">occ_download()</a></code> to kick off a download. You'll need to
give that function settings from your GBIF profile: your user name, your
password, and your email. These three settings are required to use the
function. You can specify them in one of three ways:</p><ul><li><p>Pass them to <code>occ_download</code> as parameters</p></li>
<li><p>Use R options: As options either in the current R session using
the <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options()</a></code> function, or by setting them in your <code>.Rprofile</code> file, after
which point they'll be read in automatically</p></li>
<li><p>Use environment variables: As env vars either in the current R session using
the <code><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv()</a></code> function, or by setting them in your
<code>.Renviron</code>/<code>.bash_profile</code> or similar files, after which point they'll be read
in automatically</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="beware">BEWARE<a class="anchor" aria-label="anchor" href="#beware"></a></h2>


<p>You can not perform that many downloads, so plan wisely.
See <em>Rate limiting</em> below.</p>
    </div>
    <div class="section level2">
    <h2 id="rate-limiting">Rate limiting<a class="anchor" aria-label="anchor" href="#rate-limiting"></a></h2>


<p>If you try to launch too many downloads, you will receive an 420
"Enhance Your Calm" response. If there is less then 100 in total
across all GBIF users, then you can have 3 running at a time. If
there are more than that, then each user is limited to 1 only.
These numbers are subject to change.</p>
    </div>
    <div class="section level2">
    <h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a></h2>


<ul><li><p><code><a href="occ_download.html">occ_download()</a></code> - Start a download</p></li>
<li><p><code><a href="occ_download.html">occ_download_prep()</a></code> - Prepare a download request</p></li>
<li><p><code><a href="occ_download_queue.html">occ_download_queue()</a></code> - Start many downloads in a queue</p></li>
<li><p><code><a href="occ_download_cached.html">occ_download_cached()</a></code> - Check for downloads already in your GBIF account</p></li>
<li><p><code><a href="occ_download_wait.html">occ_download_wait()</a></code> - Re-run <code><a href="occ_download_meta.html">occ_download_meta()</a></code> until ready</p></li>
<li><p><code><a href="occ_download_meta.html">occ_download_meta()</a></code> - Get metadata progress on a single download</p></li>
<li><p><code><a href="occ_download_list.html">occ_download_list()</a></code> - List your downloads</p></li>
<li><p><code><a href="occ_download_cancel.html">occ_download_cancel()</a></code> - Cancel a download</p></li>
<li><p><code><a href="occ_download_cancel.html">occ_download_cancel_staged()</a></code> - Cancels any jobs with status <code>RUNNING</code>
or <code>PREPARING</code></p></li>
<li><p><code><a href="occ_download_get.html">occ_download_get()</a></code> - Retrieve a download</p></li>
<li><p><code><a href="occ_download_import.html">occ_download_import()</a></code> - Import a download from local file system</p></li>
<li><p><code><a href="occ_download_datasets.html">occ_download_datasets()</a></code> - List datasets for a download</p></li>
<li><p><code><a href="occ_download_dataset_activity.html">occ_download_dataset_activity()</a></code> - Lists the downloads activity
of a dataset</p></li>
</ul><p>Download query composer methods:</p>
<p>See <a href="download_predicate_dsl.html">download_predicate_dsl</a></p>
    </div>
    <div class="section level2">
    <h2 id="query-length">Query length<a class="anchor" aria-label="anchor" href="#query-length"></a></h2>


<p>GBIF has a limit of 12,000 characters for a download query. This means
that you can have a pretty long query, but at some point it may lead to an
error on GBIF's side and you'll have to split your query into a few.</p>
    </div>
    <div class="section level2">
    <h2 id="download-status">Download status<a class="anchor" aria-label="anchor" href="#download-status"></a></h2>


<p>The following statuses can be found with any download:</p><ul><li><p>PREPARING: just submitted by user and awaiting processing (typically only
a few seconds)</p></li>
<li><p>RUNNING: being created (takes typically 1-15 minutes)</p></li>
<li><p>FAILED: something unexpected went wrong</p></li>
<li><p>KILLED: user decided to abort the job while it was in PREPARING or RUNNING
phase</p></li>
<li><p>SUCCEEDED: The download was created and the user was informed</p></li>
<li><p>FILE_ERASED: The download was deleted according to the retention policy,
see https://www.gbif.org/faq?question=for-how-long-will-does-gbif-store-downloads</p></li>
</ul></div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>





  </body></html>

