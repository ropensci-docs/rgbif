<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Effectively using occ_search • rgbif</title>
<!-- rOpenSci favicons --><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Effectively using occ_search">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.css">
<script src="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.umd.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">rgbif</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">3.8.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="nav-link" href="../articles/rgbif.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/creating_maps_from_occurrences.html">Creating maps from occurrences</a></li>
    <li><a class="dropdown-item" href="../articles/downloading_a_long_species_list.html">Downloading A Long Species List</a></li>
    <li><a class="dropdown-item" href="../articles/effectively_using_occ_search.html">Effectively using occ_search</a></li>
    <li><a class="dropdown-item" href="../articles/gbif_citations.html">Citing GBIF Mediated Data</a></li>
    <li><a class="dropdown-item" href="../articles/gbif_credentials.html">Set Up Your GBIF Username and Password</a></li>
    <li><a class="dropdown-item" href="../articles/gbif_sql_downloads.html">GBIF SQL Downloads</a></li>
    <li><a class="dropdown-item" href="../articles/getting_dataset_info.html">Getting Dataset Metadata From GBIF</a></li>
    <li><a class="dropdown-item" href="../articles/getting_occurrence_data.html">Getting Occurrence Data From GBIF</a></li>
    <li><a class="dropdown-item" href="../articles/multiple_values.html">Multiple Values</a></li>
    <li><a class="dropdown-item" href="../articles/occ_counts.html">Getting Occurrence Counts From GBIF</a></li>
    <li><a class="dropdown-item" href="../articles/taxonomic_names.html">Working With Taxonomic Names</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ropensci/rgbif/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Effectively using occ_search</h1>
                        <h4 data-toc-skip class="author">John
Waller</h4>
            
            <h4 data-toc-skip class="date">2024-05-08</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/rgbif/blob/master/vignettes/effectively_using_occ_search.Rmd" class="external-link"><code>vignettes/effectively_using_occ_search.Rmd</code></a></small>
      <div class="d-none name"><code>effectively_using_occ_search.Rmd</code></div>
    </div>

    
    
<p>GBIF’s <a href="https://www.gbif.org/occurrence/search" class="external-link">occurrence
search</a> is a powerful and versatile tool for accessing GBIF mediate
data. This vignette will provide an overview of the
<code><a href="../reference/occ_search.html">occ_search()</a></code> function and provide examples and advice of
how to use it effectively and also when <strong>not</strong> to use
it.</p>
<blockquote>
<p>The function <code><a href="../reference/occ_search.html">occ_search()</a></code> (and related legacy function
<code><a href="../reference/occ_data.html">occ_data()</a></code>) <strong>should not</strong> be used for serious
research. Users sometimes find it easier to use
<code><a href="../reference/occ_search.html">occ_search()</a></code> rather than <code><a href="../reference/occ_download.html">occ_download()</a></code>
because they do not need to supply a username or password, and also do
not need to wait for a download to finish. However, any serious research
project should always use <code><a href="../reference/occ_download.html">occ_download()</a></code> instead.</p>
</blockquote>
<p><code><a href="../reference/occ_search.html">occ_search()</a></code> is a quick way to get a non-random sample
of occurrences from the GBIF mediated data. It is useful for quickly
exploring the data, but it is not suitable for serious research because
users are <strong>limited to 100,000 records</strong> per search
combination.</p>
<p>And, even if your search returns fewer than 100,000 records, it is
<strong>still</strong> not recommended to use <code><a href="../reference/occ_search.html">occ_search()</a></code>
to retrieve all the records for a serious research project. This is
because it is not possible to <a href="https://docs.ropensci.org/rgbif/articles/gbif_citations.html">cite
the data</a> obtained this way in an easy way.</p>
<p>Here are some examples of some <strong>good</strong> usages of
<code><a href="../reference/occ_search.html">occ_search()</a></code>:</p>
<ul>
<li>Quickly exploring occurrence data</li>
<li>Getting occurrence counts and statistics (see also
<code><a href="../reference/occ_count.html">occ_count()</a></code> and article <a href="https://docs.ropensci.org/rgbif/articles/occ_counts.html">here</a>)</li>
<li>Testing out search parameters before downloading data</li>
</ul>
<p>And here are some examples of <strong>bad</strong> usages of
<code><a href="../reference/occ_search.html">occ_search()</a></code>:</p>
<ul>
<li>Looping through a large number of species to extract occurrence data
(See article <a href="https://docs.ropensci.org/rgbif/articles/downloading_a_long_species_list.html">here</a>
instead)</li>
<li>Treating the data as a random sample</li>
<li>Using <code><a href="../reference/occ_search.html">occ_search()</a></code> data for citable research</li>
</ul>
<div class="section level2">
<h2 id="basisofrecord">basisOfRecord<a class="anchor" aria-label="anchor" href="#basisofrecord"></a>
</h2>
<p>One of the more useful fields to search on is
<code>basisOfRecord</code>, which gives roughly the origin of the
occurrence record. Most records on GBIF are either
<code>PRESERVED_SPECIMEN</code> (museum/herbarium records) or
<code>HUMAN_OBSERVATION</code> (usually citizen science, but sometimes
research observations).</p>
<p>Other interesting <code>basisOfRecord</code> values are
<code>FOSSIL_SPECIMEN</code> and <code>LIVING_SPECIMEN</code> (zoos or
botanical gardens), because people typically want to exclude these from
their downloads.</p>
<p>Keep in mind that the <code>basisOfRecord</code> values are not
guaranteed to be filled in accurately by the publisher. Sometimes
records are misclassified or given a <code>basisOfRecord</code> that you
would not expect or have a <a href="https://data-blog.gbif.org/post/living-specimen-to-preserved-specimen-understanding-basis-of-record/" class="external-link">complicated
provenance</a>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>basisOfRecord<span class="op">=</span><span class="st">"PRESERVED_SPECIMEN"</span><span class="op">)</span> <span class="co"># museum and herbarium records</span></span>
<span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>basisOfRecord<span class="op">=</span><span class="st">"HUMAN_OBSERVATION"</span><span class="op">)</span> <span class="co"># citizen science and research observations</span></span>
<span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>basisOfRecord<span class="op">=</span><span class="st">"FOSSIL_SPECIMEN"</span><span class="op">)</span> <span class="co"># fossil records</span></span>
<span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>basisOfRecord<span class="op">=</span><span class="st">"LIVING_SPECIMEN"</span><span class="op">)</span> <span class="co"># zoo and botanical garden records</span></span>
<span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>basisOfRecord<span class="op">=</span><span class="st">"PRESERVED_SPECIMEN;HUMAN_OBSERVATION"</span><span class="op">)</span> <span class="co"># museum/herbarium and citizen science/research observations</span></span>
<span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>basisOfRecord<span class="op">=</span><span class="st">"MACHINE_OBSERVATION"</span><span class="op">)</span> <span class="co"># machine observations (e.g. camera traps, acoustic recorders, etc.)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="searching-with-scientificname">Searching with scientificName<a class="anchor" aria-label="anchor" href="#searching-with-scientificname"></a>
</h2>
<p>Users are sometimes attracted to <code><a href="../reference/occ_search.html">occ_search()</a></code> because it
is possible to supply a <code>scientificName</code> rather than a
<code>taxonKey</code>. Note, that in the background a call is made the
species match service (similar <code>to name_backbone()</code>) in order
to retrieve a GBIF taxonKey. Because of this, a user can sometimes
rarely receive back poorly matched occurrences, particularly if
authorship is not supplied.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>scientificName<span class="op">=</span><span class="st">"Caloptery splendens"</span><span class="op">)</span></span>
<span><span class="co"># Or better </span></span>
<span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>scientificName<span class="op">=</span><span class="st">"Calopteryx splendens (Harris, 1780)"</span><span class="op">)</span></span></code></pre></div>
<p>Is equivalent to doing the following:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>taxonKey<span class="op">=</span><span class="fu"><a href="../reference/name_backbone.html">name_backbone</a></span><span class="op">(</span><span class="st">"Calopteryx splendens"</span><span class="op">)</span><span class="op">$</span><span class="va">usageKey</span><span class="op">)</span></span>
<span><span class="co"># OR</span></span>
<span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>taxonKey<span class="op">=</span><span class="fl">1427067</span><span class="op">)</span></span></code></pre></div>
<p>If your name happens to be a <a href="https://docs.ropensci.org/rgbif/articles/taxonomic_names.html#too-many-choices-problem">homotypic
synonym</a> of another name, you may get back occurrences for the other
name or no results or a higher-rank match results. Therefore, it is
usually safer to use the GBIF taxonKey.</p>
</div>
<div class="section level2">
<h2 id="non-interpreted-fields">Non-interpreted fields<a class="anchor" aria-label="anchor" href="#non-interpreted-fields"></a>
</h2>
<p>Some fields in the GBIF mediated data are “interpreted” by GBIF,
meaning that they are standardized in some way. For example, the field
<code>basisOfRecord</code> is standardized to a controlled vocabulary.
Therefore, only a few values are returned no matter what the publisher
has supplied. For instance, “pinned insect”, “fish specimen”, and
“herbarium sheet”, will all get mapped to
<code>PRESERVED_SPECIMEN</code> by GBIF.</p>
<p>Other fields are “non-interpreted”, meaning that they are not
standardized in any way. For example, the field <code>recordedBy</code>
is a free text field. If you search for
<code>recordedBy="John Smith"</code>, you may not get back occurrences
where the <code>recordedBy</code> field is some variant such as
<code>J. Smith</code>, <code>Smith, J.</code>, <code>Smith, John</code>,
etc.</p>
<p>One strategy for determining whether a search term is free text is by
using <code>occ_count(facet=&lt;"search term"&gt;)</code>. See article
of <code><a href="../reference/occ_count.html">occ_count()</a></code> <a href="https://docs.ropensci.org/rgbif/articles/occ_counts.html">here</a>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/occ_count.html">occ_count</a></span><span class="op">(</span>facet<span class="op">=</span><span class="st">"recordedBy"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/occ_count.html">occ_count</a></span><span class="op">(</span>facet<span class="op">=</span><span class="st">"basisOfRecord"</span><span class="op">)</span></span></code></pre></div>
<p>If many unique values are returned, then it is likely that the field
is free text.</p>
</div>
<div class="section level2">
<h2 id="un-intentional-mass-data-removal-from-null-values">Un-intentional mass data removal from NULL values<a class="anchor" aria-label="anchor" href="#un-intentional-mass-data-removal-from-null-values"></a>
</h2>
<p>Some search parameters are often <code>NULL</code> or not supplied
from the publisher. In general, <code><a href="../reference/occ_search.html">occ_search()</a></code> terms that are
not required fields or not filled by GBIF during interpretation are
often <code>NULL</code>. For example, even though
<code>coordinateUncertaintyInMeters</code> <a href="https://docs.gbif.org/georeferencing-best-practices/1.0/en/" class="external-link">theoretically
applies</a> to all occurrences with coordinates, it is often
<code>NULL</code> because the publishers choose not to supply this
information or it is unknown. Similarly, <code>sex</code> might often be
left <code>NULL</code> more than what would be expected naively.</p>
<p>Other columns with more <code>NULL</code>s than one might expect
:</p>
<ul>
<li><code>stateProvince</code></li>
<li><code>elevation</code></li>
<li><code>establishmentMeans</code></li>
<li><code>coordinateUncertaintyInMeters</code></li>
</ul>
<p>Keep in mind that specifying any filter will remove all records with
<code>NULL</code> in the filter.</p>
</div>
<div class="section level2">
<h2 id="searching-for-locations">Searching for locations<a class="anchor" aria-label="anchor" href="#searching-for-locations"></a>
</h2>
<p>Location searching can sometimes be challenging for new users.
Particularly, searching for <code>stateProvince</code> can be tricky
because the field is free text when one might expect it to be from a
controlled vocabulary. <code>stateProvince="California"</code> will not
return occurrences where the publisher supplied has values such as
<code>CA</code>, <code>Calif.</code>, or <code>Cal.</code>.
Additionally, records with coordinates falling within California may not
have been supplied with a <code>stateProvince</code> value by the
publisher.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">occ_search</span>(<span class="at">stateProvince=</span><span class="st">"California"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="fu">occ_search</span>(<span class="at">stateProvince=</span><span class="st">"CA"</span>)<span class="er">)</span> <span class="co"># will return different number of records  </span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="fu">occ_search</span>(<span class="at">stateProvince=</span><span class="st">"CA;California"</span>)<span class="er">)</span> <span class="co"># search both variants at the same time  </span></span></code></pre></div>
<p>A usually better choice than searching by <code>stateProvince</code>
is to search by <code>gadmGid</code>. The term <code>gadmGid</code> is a
GBIF interpreted field that is filled by GBIF when coordinates are
available. Looking up the <code>gadmGid</code>s can be done on the GBIF
<a href="https://www.gbif.org/occurrence/map?continent=NORTH_AMERICA&amp;has_coordinate=true&amp;has_geospatial_issue=false&amp;gadm_gid=USA.5_1" class="external-link">occurrence
search page</a>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>gadmGid<span class="op">=</span><span class="st">"USA.5_1"</span><span class="op">)</span> <span class="co"># search for California </span></span>
<span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>gadmGid<span class="op">=</span><span class="st">"JPN.12_1"</span><span class="op">)</span> <span class="co"># search for Hokkaido Japan</span></span>
<span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>gadmGid<span class="op">=</span><span class="st">"USA.5_1;USA.6_1"</span><span class="op">)</span> <span class="co"># search for California and Colorado </span></span>
<span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>gadmGid<span class="op">=</span><span class="st">"PHL.10_1"</span><span class="op">)</span> <span class="co"># Bataan Philippines</span></span>
<span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>gadmGid<span class="op">=</span><span class="st">"USA"</span><span class="op">)</span> <span class="co"># United States "just land" without EEZ area</span></span></code></pre></div>
<p>Searching by <code>country</code> is typically straightforward
because the field is standardized and filled in by GBIF when coordinates
are available. Two letter country codes are used when searching
occurrences. These codes can be looked up using
<code><a href="../reference/enumeration.html">enumeration_country()</a></code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>country<span class="op">=</span><span class="st">"US"</span><span class="op">)</span> <span class="co"># search for United States</span></span>
<span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>country<span class="op">=</span><span class="st">"JP"</span><span class="op">)</span> <span class="co"># search for Japan</span></span>
<span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>country<span class="op">=</span><span class="st">"PH"</span><span class="op">)</span> <span class="co"># search for Philippines</span></span>
<span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>country<span class="op">=</span><span class="st">"SW"</span><span class="op">)</span> <span class="co"># search for Sweden</span></span>
<span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>country<span class="op">=</span><span class="st">"US;JP"</span><span class="op">)</span> <span class="co"># search for United States and Japan</span></span></code></pre></div>
<p>Searching by <code>continent</code> is also possible, but unlike
<code>country</code>, this value is <strong>not</strong> filled in when
coordinates are available, and instead relies on the publisher filling
in this field. So if the publisher has not filled in a value, then this
field will be <code>NULL</code>, even if it obviously lies on a
continent.</p>
<p>The field is however standardized by GBIF, so that the values are
mapped to supplied values are all mapped to a controlled
vocabulary(e.g. “Europa, Euroopa,EUR,Eu” -&gt; EUROPE,
“Afrique,”Afr.”,“AF” -&gt; AFRIKA).</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>continent<span class="op">=</span><span class="st">"EUROPE"</span><span class="op">)</span> <span class="co"># search for Europe</span></span>
<span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>continent<span class="op">=</span><span class="st">"AFRIKA"</span><span class="op">)</span> <span class="co"># search for Africa</span></span>
<span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>continent<span class="op">=</span><span class="st">"EUROPE;AFRIKA"</span><span class="op">)</span> <span class="co"># search for Europe and Africa</span></span></code></pre></div>
<p>If you need to get all occurrences from a certain continent, I would
use the <code>gadmGid</code> filter or supply a bounding box or WKT
polygon to <code>geometry</code>. When using <code>geometry</code> make
sure that your polygon is wound in the correct order (anti-clockwise).
When in doubt, using the GBIF <a href="https://www.gbif.org/occurrence/map" class="external-link">web UI</a> to draw and debug
the polygon can be a good option. Only POLYGON and MULTIPOLYGON are
accepted WKT types.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>geometry<span class="op">=</span><span class="st">"POLYGON((13.42436 69.86167,4.6469 67.01976,-8.26114 67.2205,-19.62021 67.81281,-28.39768 64.25374,-27.88135 53.09437,-17.55493 44.99691,-16.52228 30.81969,3.61426 32.57676,19.62021 30.37524,38.72411 32.14062,54.21375 33.87246,66.60546 43.14228,72.80133 50.54193,70.21972 62.16009,38.20778 72.6752,23.23447 73.42765,13.42436 69.86167))"</span><span class="op">)</span> <span class="co"># rough polygon around Europe</span></span></code></pre></div>
<p>Sometimes it can be useful to select everything <strong>but</strong>
a <a href="https://www.gbif.org/occurrence/map?has_coordinate=true&amp;has_geospatial_issue=false&amp;geometry=POLYGON((-180%20-90,-90%20-90,0%20-90,90%20-90,180%20-90,180%2090,90%2090,0%2090,-90%2090,-180%2090,-180%20-90),(-5%20-5,-5%205,5%205,5%20-5,-5%20-5))&amp;occurrence_status=present" class="external-link">certain
region</a>, also known as a “polygon with hole in it”. This can be done
by formatting your WKT with enough interpolated points.</p>
<pre><code>POLYGON(
(-180 -90,-90 -90,0 -90,90 -90,180 -90,180 90,90 90,0 90,-90 90,-180 90,-180 -90),
(-5 -5,-5 5,5 5,5 -5,-5 -5)
)</code></pre>
</div>
<div class="section level2">
<h2 id="searching-for-dates">Searching for dates<a class="anchor" aria-label="anchor" href="#searching-for-dates"></a>
</h2>
<p>Some records on GBIF can be quite old (1600s), so it is sometimes
useful to filter by <code>year</code> to remove these records. Year is
typically the collection event or the observation event of the record.
Almost all occurrences on GBIF supply a <code>year</code> value.
Therefore filtering by <code>year</code> is typically safe from
un-intentional mass data filtering from <code>NULL</code> values.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>year<span class="op">=</span><span class="fl">1998</span><span class="op">)</span> <span class="co"># search for occurrences from 1998</span></span>
<span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>year<span class="op">=</span><span class="st">"1998,2024"</span><span class="op">)</span> <span class="co"># search for occurrences from 1998-2024</span></span>
<span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>year<span class="op">=</span><span class="st">"1900;2000"</span><span class="op">)</span> <span class="co"># search for occurrences from 1900 and 2000</span></span>
<span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>year<span class="op">=</span><span class="st">"1950,2024"</span><span class="op">)</span> <span class="co"># search for somewhat modern records</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="other-record-ids">Other record ids<a class="anchor" aria-label="anchor" href="#other-record-ids"></a>
</h2>
<p>Sometimes users are coming to GBIF looking for a specific museum
record, but they don’t know the <code>gbifid</code> of the record. In
these cases, searching by <code>occurrenceId</code>,
<code>catalogNumber</code>, <code>recordNumber</code> or
<code>institutionCode</code> can be useful. Keep in mind that many of
these fields and may not be unique across all of GBIF. For example, a
few institutions might use the same <code>institutionCode</code>, but
actual be different institutions. Usually combining a few of these
values can get you close to the record you are looking for.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>institutionCode<span class="op">=</span><span class="st">"KU"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>catalogNumber<span class="op">=</span><span class="st">"KU 110"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="dwca-extensions">DWCA extensions<a class="anchor" aria-label="anchor" href="#dwca-extensions"></a>
</h2>
<p>New users might not be aware that some data publishers supply
additional data beyond simple “when-what-where” data. Richer extra data
usually comes in the form of <code>dwcaExtensions</code>. While
<code><a href="../reference/occ_search.html">occ_search()</a></code> does not return the values from these
extensions, it is possible to filter by extension type to see what
dataset publishers have published extensions of interest.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>dwcaExtension<span class="op">=</span><span class="st">"http://rs.gbif.org/terms/1.0/Multimedia"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>dwcaExtension<span class="op">=</span><span class="st">"http://rs.tdwg.org/dwc/terms/MeasurementOrFact"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/occ_search.html">occ_search</a></span><span class="op">(</span>dwcaExtension<span class="op">=</span><span class="st">"http://rs.gbif.org/terms/1.0/DNADerivedData"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="further-reading">Further reading<a class="anchor" aria-label="anchor" href="#further-reading"></a>
</h2>
<p><a href="https://techdocs.gbif.org/en/openapi/v1/occurrence#/Searching%20occurrences/searchOccurrence" class="external-link">GBIF
tech docs</a></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>





  </body>
</html>
